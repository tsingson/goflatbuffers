package fnv64a

import (
	"fmt"
	"testing"
	"time"

	"github.com/cespare/xxhash/v2"
	"github.com/stretchr/testify/assert"
)

func TestFnv64a_Sum64(t *testing.T) {
	as := assert.New(t)
	t1 := time.Now()
	s := "string"
	s1 := []byte{0x1, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x1}
	s2 := []byte{0x1, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x3, 0x0, 0x1, 0x0, 0x2, 0x03, 0x15, 0x16, 0x1}
	fmt.Println(Sum64(s))
	fmt.Println(xxhash.Sum64String(s))
	fmt.Println(xxhash.Sum64(s1))
	fmt.Println(xxhash.Sum64(s2))
	fmt.Println(time.Since(t1).Nanoseconds())
	as.Equal(Sum64(s), Sum64(s))
}
